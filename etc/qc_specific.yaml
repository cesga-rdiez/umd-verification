repo_url: &REPO_URL !!python/object/apply:umd.config.cfg_item [repository_url]

argus:
    qc_func_1:
        - test: "bin/certs/check-cert"
          description: "Check whether the certificate is up-to-date."
          user: "umd"
          args: "/etc/grid-security/hostcert.pem"
    qc_func_2:
        - test: "bin/argus/testsuites.sh"
          description: "Argus certification tests."

argus-ees:
    qc_func_1:
        - test: "bin/argus/ees.sh"
          description: "Check EES basic functionality."
          user: "umd"

bdii-site:
    qc_func_1:
        - test: "bin/bdii/client-test.sh"
          description: "glue-validator check."
          user: "umd"
          args: "glue-validator"
        - test: "bin/bdii/client-test.sh"
          description: "ldapsearch site BDII check."
          user: "umd"
          args: "ldapsearch-site-bdii"

bdii-top:
    qc_func_1:
        - test: "bin/bdii/client-test.sh"
          description: "ldapsearch top BDII check."
          user: "umd"
          args: "ldapsearch-top-bdii"

ca:
    qc_func_1:
        #- test: "bin/ca/fetch_crl.run"
        #  description: "Run fetch_crl script with verbosity."
        - test: "bin/ca/check-release.py"
          description: "Check release date."
          user: "umd"
          args: *REPO_URL

cream:
    qc_func_1:
        - test: "bin/cream/"
          description: "CREAM rele"
        - test: "bin/certs/check-cert"
          description: "Check whether the certificate is up-to-date."
          user: "umd"
          args: "/etc/grid-security/hostcert.pem"

glexec-wn:
    qc_func_1:
        - test: "bin/myproxy/client-test.sh"
          description: "Retrieve myproxy for ops.vo.ibergrid.eu VO."
          user: "umd"
          args: "retrieve"
        - test: "bin/glexec/test-basic.sh"
          description: "Testing basic functionality."
          user: "umd"
        - test: "bin/glexec/test-transfer.sh"
          description: "Testing transfer of a specific proxy file."
          user: "umd"

storm:
    qc_func_1:
        - test: "bin/myproxy/client-test.sh"
          description: "Retrieve myproxy for ops.vo.ibergrid.eu VO."
          user: "umd"
          args: "retrieve"
        - test: "bin/srm/webdav"
          description: "WebDAV functionality check."
          user: "umd"
        - test: "bin/srm/client-test.sh"
          description: "lcg-utils client."
          user: "umd"
          args: "localhost dcache-client"

ui:
    qc_func_1: 
        - test: "bin/myproxy/client-test.sh"
          description: "Retrieve myproxy for ops.vo.ibergrid.eu VO."
          user: "umd"
          args: "retrieve"
        - test: "bin/srm/client-test.sh"
          description: "lcg-utils client."
          user: "umd"
          args: "storm lcg-util"
        - test: "bin/srm/client-test.sh"
          description: "Dcache client v2."
          user: "umd"
          args: "dcache dcache-client"
        - test: "bin/srm/client-test.sh"
          description: "gfal2-python [http://dmc.web.cern.ch/projects/gfal2-python/documentation]."
          user: "umd"
          args: "dcache gfal2-python"
        - test: "bin/srm/client-test.sh"
          description: "gfal2-util."
          user: "umd"
          args: "dcache gfal2-util"
        - test: "bin/myproxy/client-test.sh"
          description: "myproxy client commands testing."
          user: "umd"

myproxy-client:
    qc_func_1: 
        - test: "bin/myproxy/client-test.sh"
          description: "myproxy client commands testing."
          user: "umd"

arc:
    qc_func_1:
        - test: "bin/myproxy/client-test.sh"
          description: "Retrieve myproxy for ops.vo.ibergrid.eu VO."
          user: "umd"
          args: "retrieve"
        - test: "bin/arc/client-test.sh"
          description: "Check job submission."
          user: "umd"

dpm:
    qc_func_1:
        - test: "bin/myproxy/client-test.sh"
          description: "Retrieve myproxy for ops.vo.ibergrid.eu VO."
          user: "umd"
          args: "retrieve"
        - test: "bin/srm/client-test.sh"
          description: "lcg-util client check for DPM."
          user: "umd"
          args: "localhost lcg-util"

gram5:
    qc_func_1:
        - test: "bin/gram5/jobs-test.sh"
          description: "gram5 client tests (fork-poll)"
          user: "umd"
          args: "jobmanager-fork-poll"
        - test: "bin/gram5/jobs-test.sh"
          description: "gram5 client tests (pbs-poll)"
          user: "umd"
          args: "jobmanager-pbs-poll"
        - test: "bin/gram5/jobs-test.sh"
          description: "gram5 client tests (pbs-seg)"
          user: "umd"
          args: "jobmanager-pbs-seg"

frontier-squid:
    qc_func_1: 
        - test: "bin/frontier-squid/fnget.sh"
          description: "Frontier squid cache test."
          source: "https://twiki.cern.ch/twiki/bin/view/Frontier/InstallSquid#Testing_the_installation"
          user: "umd"

gridftp:
    qc_func_1: 
        - test: "bin/gridftp/client-test.sh"
          description: "GridFTP transfer check using globus-url-copy."
          args: "/tmp/umd_proxy"

keystone-voms:
    qc_func_1: 
        - test: "bin/keystone-voms/client-test.py"
          description: "Requesting a token using a valid VOMS proxy."
          source: "https://github.com/IFCA/voms-auth-system-openstack"
          args: "VO:dteam --proxy-path /tmp/umd_proxy"

mkgridmap:
    qc_func_1:
        - test: "bin/auth/edg-mkgridmap.sh"
          description: "edg-mkgridmap functionality."

gridsite:
    qc_func_1: 
        - test: "bin/gridsite/test_read_gacl.sh"
          description: "Test reading a file using gacl."
